(this["webpackJsonpcovid19-tracker"]=this["webpackJsonpcovid19-tracker"]||[]).push([[0],{51:function(e,t,n){e.exports=n(87)},56:function(e,t,n){},57:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),o=(n(56),n(57),n(10)),i=n(18),u=n.n(i),s=n(26),m=n(29),f=n(46),d=Object(o.atom)({key:"selectedCountry",default:null}),h=Object(o.atom)({key:"canvasNews",default:null}),v="countries",E={COUNTRIES:"https://covid19.mathdro.id/api/countries",NEWS:"https://newsapi.org/v2/top-headlines?q=COVID&apiKey=".concat("92b7dba444324d82bfc93d30423eaeed"),GLOBAL:"https://covid19.mathdro.id/api/og"},p=n(35),g=n.n(p),b=function(e,t){return g.a.setItem(e,t)};var w=function(e){return e.map((function(e){return{label:e.name,value:e.iso2}}))},O=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(o.useSetRecoilState)(d);return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=v,g.a.getItem(o);case 2:if(t=e.sent){e.next=16;break}return e.next=6,fetch(E.COUNTRIES);case 6:return a=e.sent,e.next=9,a.json();case 9:return r=e.sent,e.next=12,b(v,w(r.countries));case 12:l=e.sent,c(l),e.next=17;break;case 16:0===n.length&&c(t);case 17:case"end":return e.stop()}var o}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n.length]),r.a.createElement("div",{style:{margin:"15px"}},r.a.createElement(f.a,{options:n,onChange:function(e){l((function(t){return e}))}}))},j=n(123),x=n(121),k=n(115),S=n(118),y=n(120),N=n(119);var C=function(e){var t=e.news,n=Object(o.useSetRecoilState)(h);return r.a.createElement("div",null,r.a.createElement("h1",null,"News Articles"),t&&0!==t.length&&function(e){return e.map((function(e){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(S.a,{onClick:function(t){n((function(t){return e.url}))}},r.a.createElement(N.a,{style:{height:"150px"},image:e.urlToImage}),r.a.createElement(y.a,null,r.a.createElement("h3",null,e.title)))))}))}(t),t&&0===t.length&&r.a.createElement("div",null," Sorry No News Available!"))},R=Object(x.a)((function(e){return{drawer:{width:"400px",flexShrink:0},drawerPaper:{width:"400px"}}}));var I=function(){var e=R(),t=Object(o.useRecoilValue)(d),n=Object(a.useState)([]),c=Object(m.a)(n,2),l=c[0],i=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,fetch("".concat(E.NEWS,"&country=").concat(t.value.toLowerCase()));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,i(a.articles),e.next=17;break;case 10:return e.next=12,fetch("".concat(E.NEWS));case 12:return r=e.sent,e.next=15,r.json();case 15:c=e.sent,i(c.articles);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:e.drawer,variant:"permanent",anchor:"left",classes:{paper:e.drawerPaper}},r.a.createElement(C,{news:l})))},A=n(124),L=n(122);var W=function(){var e,t=Object(o.useRecoilValue)(d),n=Object(o.useRecoilValue)(h),a=Object(o.useSetRecoilState)(h);return r.a.createElement("div",{className:"canvas"},!n&&function(e){return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("img",{alt:"global_og_image",src:E.GLOBAL}),e&&r.a.createElement("img",{alt:"og_image",src:"".concat(E.COUNTRIES,"/").concat(e.value,"/og")}))}(t),n&&(e=n,r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{severity:"info",action:r.a.createElement(L.a,{onClick:function(e){a(void 0)}},"Close")}," You are in an iframe! Close it to go back"),r.a.createElement("iframe",{height:"100%",width:"100%",title:"news iframe",src:e}))))};var B=function(){return r.a.createElement(o.RecoilRoot,null,r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(O,null),r.a.createElement(W,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.9b745172.chunk.js.map